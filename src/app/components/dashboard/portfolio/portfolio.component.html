<div class="main-content flex flex-wrap gap-3" style="padding-top: 100px;">
    <app-sidebar></app-sidebar>
    <div class="flex flex-column portfolio-content">
      <div class="flex flex-column gap-3 center">
        <div class="p-inputgroup w-full md:w-30rem currency">
          <span class="p-inputgroup-addon">
              Currency
          </span>
          <p-dropdown [options]="countries" [(ngModel)]="selectedCountry" optionLabel="name" placeholder="Select a Currency" styleClass="w-full">
              <ng-template pTemplate="selectedItem">
                  <div class="flex align-items-center gap-2" *ngIf="selectedCountry">
                      <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + selectedCountry.code.toLowerCase()" style="width: 18px"/>
                      <div>{{ selectedCountry.name }}</div>
                  </div>
              </ng-template>
              <ng-template let-country pTemplate="item">
                  <div class="flex align-items-center gap-2">
                      <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + country.code.toLowerCase()" style="width: 18px"/>
                      <div>{{ country.name }}</div>
                  </div>
              </ng-template>
          </p-dropdown>
        </div>
        <div class="w-full" class="wallet-panel">
          <p-button icon="pi pi-wallet" styleClass="p-button-rounded p-button-text border-circle bg-white-alpha-30"></p-button>
          <div class="font-bold">
              <div class="text-sm">Total</div>
              <div class="flex flex-row gap-4 text-lg">
                  <div>USD:</div>
                  <div>{{ wallet_info.wallet_balance_nms }}</div>
              </div>
          </div>
        </div>
        <div class="w-full">
          <p-table [value]="token_transaction">
              <ng-template pTemplate="header">
                  <tr>
                      <th>Token</th>
                      <th>Price</th>
                      <th>Balance</th>
                      <th>Value</th>
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" *ngIf="token_transaction.length==0">
                  <tr>
                      <td>No Transaction Record</td>
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" let-token *ngIf="token_transaction.length>0">
                  <tr>
                      <td>{{ token.token }}</td>
                      <td>{{ token.price }}</td>
                      <td>{{ token.balance }}</td>
                      <td>{{ token.value }}</td>
                  </tr>
              </ng-template>
          </p-table>
        </div>
        <div class="flex flex-wrap gap-2">
          <p-dropdown class="collection w-full" [options]="collection_list" [(ngModel)]="selected_game"
            (ngModelChange)="onSelectCategory($event)" placeholder="Collection" optionLabel="name" optionValue="name"
            optionValue="category" [style]="{ 'width': '100%' }"></p-dropdown>
          <p-dropdown class="category" [options]="category_list" [(ngModel)]="selected_category"
            (ngModelChange)="onSelectCategory($event)" placeholder="Category" optionLabel="category"
            optionValue="category" [style]="{ 'width': '100%' }"></p-dropdown>
          <div class="price">
            <button class="price-range" pButton type="button" label="Price Range" icon="pi pi-angle-down" (click)="togglePopup()" iconPos="right"
              class="p-button-outlined p-button-secondary w-full" style="padding: 20px 10px; color: white;"></button>
            <p-card *ngIf="showPopup" class="w-full">
              <div style="display: flex; background-color: rgba(255, 255, 255, 0.0196);" fxLayoutGap="5px">
                <div class="p-inputgroup" style="height: 35px;">
                  <input type="text" pInputText placeholder="0" style="padding: 10px; font-size: 14px;" />
                  <span class="p-inputgroup-addon">min</span>
                </div>
                <div style="margin-top: 5px !important;">To</div>
                <div class="p-inputgroup" style="height: 35px;">
                  <input type="text" pInputText placeholder="0" />
                  <span class="p-inputgroup-addon">max</span>
                </div>
              </div>
            </p-card>
          </div>
        </div>
          <div class="flex flex-wrap gap-3 center">
            <div class="nft-list" *ngFor="let nft_list of nft_list_diplayed">
              <p-card [style]="{ width: '100%' }">
                <ng-template pTemplate="header">
                  <div class="header-container" (click)="navigateToCollection(nft_list.id)" style="cursor: pointer;">

                    <img alt="Card" [src]="nft_list.image_path" />
                    <div class="header">
                      <span class="subheader" style="margin-right: 10px;">{{nft_list.name}}</span>
                    </div>
                    <div class="logo-and-subheader">
                      <span class="subheader" style="margin-right: 10px;">{{nft_list.price}}</span>
                      <img class="logo" alt="Logo" src="./../../../../assets/img/Nemesis_token.png"
                        style="height: auto; width: 20px;" />
                    </div>
                  </div>
                </ng-template>
                <ng-template pTemplate="footer">
                  <div (click)="buy_collection()" style="cursor: pointer;">
                    <i class="pi pi-wallet"></i> Buy
                  </div>
                </ng-template>
              </p-card>
            </div>
          </div>
      </div>
    </div>
</div>
